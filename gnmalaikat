-- Auto Summit GUI Compact dengan Speed Slider & Fall Damage Off
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local TweenService = game:GetService("TweenService")
local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local hrp = character:WaitForChild("HumanoidRootPart")
local humanoid = character:WaitForChild("Humanoid")

-- Remote teleport
local teleportRemote = ReplicatedStorage:WaitForChild("TeleportConfirm")
local summitCFrame = CFrame.new(310.338928, 1233.93591, 88.9713364, 
    -0.95353961, 6.928829786e-08, -0.301267624, 
    3.28895275e-08, 1, 1.258908366e-07, 
    0.301267624, 1.10133342e-07, -0.95353961)

-- Variabel kontrol
local autoSummitActive = false
local autoSummitPaused = false
local speed = 1 -- default speed

-- Fungsi tween
local function moveTo(targetCFrame, speed)
    speed = math.clamp(speed, 0.1, 5)
    local distance = (hrp.Position - targetCFrame.Position).Magnitude
    local tweenInfo = TweenInfo.new(distance / speed, Enum.EasingStyle.Linear)
    local tween = TweenService:Create(hrp, tweenInfo, {CFrame = targetCFrame})
    tween:Play()
    tween.Completed:Wait()
end

-- Loop auto summit
local function autoSummitLoop()
    while autoSummitActive do
        if autoSummitPaused then
            wait(0.1)
        else
            -- Teleport/reset ke basecamp
            teleportRemote:FireServer()
            wait(0.5)

            -- Pergi ke puncak
            moveTo(summitCFrame, speed)
            wait(0.5)

            -- Kembali ke basecamp
            teleportRemote:FireServer()
            wait(0.5)
        end
    end
end

-- GUI
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Parent = player:WaitForChild("PlayerGui")
ScreenGui.ResetOnSpawn = false

-- Tombol Start/Pause
local ToggleButton = Instance.new("TextButton")
ToggleButton.Size = UDim2.new(0, 150, 0, 50)
ToggleButton.Position = UDim2.new(0, 20, 0, 20)
ToggleButton.Text = "Start Auto Summit"
ToggleButton.BackgroundColor3 = Color3.fromRGB(0, 170, 255)
ToggleButton.TextColor3 = Color3.new(1,1,1)
ToggleButton.Parent = ScreenGui

-- Slider Speed
local SpeedSlider = Instance.new("TextBox")
SpeedSlider.Size = UDim2.new(0, 150, 0, 30)
SpeedSlider.Position = UDim2.new(0, 20, 0, 80)
SpeedSlider.PlaceholderText = "Speed (0.1-5)"
SpeedSlider.Text = tostring(speed)
SpeedSlider.BackgroundColor3 = Color3.fromRGB(200, 200, 200)
SpeedSlider.TextColor3 = Color3.new(0,0,0)
SpeedSlider.Parent = ScreenGui

SpeedSlider.FocusLost:Connect(function(enter)
    local val = tonumber(SpeedSlider.Text)
    if val then
        speed = math.clamp(val, 0.1, 5)
    else
        SpeedSlider.Text = tostring(speed)
    end
end)

-- Tombol Events
ToggleButton.MouseButton1Click:Connect(function()
    autoSummitActive = not autoSummitActive
    autoSummitPaused = not autoSummitActive
    if autoSummitActive then
        ToggleButton.Text = "Pause Auto Summit"
        spawn(autoSummitLoop)
    else
        ToggleButton.Text = "Resume Auto Summit"
    end
end)

-- Nonaktifkan Fall Damage
humanoid:GetPropertyChangedSignal("Health"):Connect(function()
    if humanoid.Health < humanoid.MaxHealth then
        humanoid.Health = humanoid.MaxHealth
    end
end)
