-- YARS NEW MAP SUMMIT AUTO
-- Auto teleport ke puncak
-- GUI drag, speed delay 0.1-5s

local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local StarterGui = game:GetService("StarterGui")
local UserInputService = game:GetService("UserInputService")
local player = Players.LocalPlayer

local TeleportConfirm = ReplicatedStorage:WaitForChild("TeleportConfirm")
local autoEnabled = false
local retryDelay = 0.5 -- default kecepatan auto (0.1-5s)

-- posisi puncak
local summitCFrame = CFrame.new(
    310.338928, 1233.93591, 88.9713364,
    -0.95353961, 6.928829786e-08, -0.301267624,
    3.28895275e-08, 1, 1.258908366e-07,
    0.301267624, 1.10133342e-07, -0.95353961
)

local function notify(title, text)
    pcall(function()
        StarterGui:SetCore("SendNotification", {
            Title = title, Text = text, Duration = 3
        })
    end)
end

-- teleport ke puncak
local function tpToSummit()
    local char = player.Character
    if not (char and char:FindFirstChild("HumanoidRootPart")) then return end
    local root = char.HumanoidRootPart
    root.CFrame = summitCFrame
    notify("Teleport", "Summit âœ…")
end

-- reset/basecamp
local function resetBasecamp()
    pcall(function() TeleportConfirm:FireServer() end)
    notify("Reset", "Back to Basecamp âœ…")
end

-- loop auto summit
local function autoLoop()
    task.spawn(function()
        while autoEnabled do
            tpToSummit()
            task.wait(retryDelay)
            resetBasecamp()
            task.wait(retryDelay)
        end
    end)
end

-- GUI
local gui = Instance.new("ScreenGui")
gui.Name = "YARSNewMap"
gui.Parent = player:WaitForChild("PlayerGui")

local frame = Instance.new("Frame", gui)
frame.Size = UDim2.new(0,260,0,180)
frame.Position = UDim2.new(0,20,0.3,0)
frame.BackgroundColor3 = Color3.fromRGB(40,40,50)
Instance.new("UICorner",frame).CornerRadius = UDim.new(0,10)

local title = Instance.new("TextLabel", frame)
title.Size = UDim2.new(1,0,0,30)
title.Text = "YARS New Map Summit"
title.TextColor3 = Color3.new(1,1,1)
title.BackgroundTransparency = 1

-- Drag GUI
local dragging, dragStart, startPos
title.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
        dragging = true
        dragStart = input.Position
        startPos = frame.Position
        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                dragging = false
            end
        end)
    end
end)
UserInputService.InputChanged:Connect(function(input)
    if dragging and (input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch) then
        local delta = input.Position - dragStart
        frame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X,
                                   startPos.Y.Scale, startPos.Y.Offset + delta.Y)
    end
end)

-- Tombol auto summit
local autoBtn = Instance.new("TextButton", frame)
autoBtn.Size = UDim2.new(1,-20,0,30)
autoBtn.Position = UDim2.new(0,10,0,40)
autoBtn.BackgroundColor3 = Color3.fromRGB(100,255,100)
autoBtn.Text = "âš¡ AUTO SUMMIT: OFF"
autoBtn.MouseButton1Click:Connect(function()
    autoEnabled = not autoEnabled
    if autoEnabled then
        autoBtn.Text = "âš¡ AUTO SUMMIT: ON"
        autoBtn.BackgroundColor3 = Color3.fromRGB(255,100,100)
        autoLoop()
    else
        autoBtn.Text = "âš¡ AUTO SUMMIT: OFF"
        autoBtn.BackgroundColor3 = Color3.fromRGB(100,255,100)
    end
end)

-- Tombol reset/basecamp manual
local resetBtn = Instance.new("TextButton", frame)
resetBtn.Size = UDim2.new(1,-20,0,30)
resetBtn.Position = UDim2.new(0,10,0,80)
resetBtn.BackgroundColor3 = Color3.fromRGB(255,200,150)
resetBtn.Text = "ðŸ”„ Reset Basecamp"
resetBtn.MouseButton1Click:Connect(resetBasecamp)

-- Speed delay slider
local speedLabel = Instance.new("TextLabel", frame)
speedLabel.Size = UDim2.new(0.6,-20,0,30)
speedLabel.Position = UDim2.new(0,10,0,120)
speedLabel.BackgroundTransparency = 1
speedLabel.TextColor3 = Color3.new(1,1,1)
speedLabel.Text = string.format("Speed Delay: %.1fs", retryDelay)

local plusBtn = Instance.new("TextButton", frame)
plusBtn.Size = UDim2.new(0.2,-5,0,30)
plusBtn.Position = UDim2.new(0.6,0,0,120)
plusBtn.BackgroundColor3 = Color3.fromRGB(100,180,100)
plusBtn.Text = "+"

local minusBtn = Instance.new("TextButton", frame)
minusBtn.Size = UDim2.new(0.2,-5,0,30)
minusBtn.Position = UDim2.new(0.8,0,0,120)
minusBtn.BackgroundColor3 = Color3.fromRGB(180,100,100)
minusBtn.Text = "-"

plusBtn.MouseButton1Click:Connect(function()
    retryDelay = math.clamp(retryDelay + 0.1,0.1,5)
    speedLabel.Text = string.format("Speed Delay: %.1fs", retryDelay)
end)
minusBtn.MouseButton1Click:Connect(function()
    retryDelay = math.clamp(retryDelay - 0.1,0.1,5)
    speedLabel.Text = string.format("Speed Delay: %.1fs", retryDelay)
end)

notify("YARS New Map","Auto Summit Loaded âœ…")
