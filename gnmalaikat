-- üèîÔ∏è YARS AUTO SUMMIT FINAL (GUI STAY + CUSTOM CFRAME + SLIDER SPEED)
-- Developer: Yarsterday

local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local UserInputService = game:GetService("UserInputService")
local player = Players.LocalPlayer

local TeleportConfirm = ReplicatedStorage:WaitForChild("TeleportConfirm")

-- Variabel utama
local autoEnabled = false
local delaySpeed = 0.5 -- default delay 0.5 detik
local summitCFrame = CFrame.new(
    306.720917, 1230.53601, 83.6961441,
    -0.775216639, 3.220131942e-09, 0.631695449,
    1.67592322e-08, 1, 1.546932726e-08,
    -0.631695449, 2.257880996e-08, -0.775216639
)

-- üîî Notifikasi kecil
local function notify(title, text)
	pcall(function()
		game.StarterGui:SetCore("SendNotification", {
			Title = title,
			Text = text,
			Duration = 3
		})
	end)
end

-- üìç Teleport ke puncak
local function tpSummit()
	local char = player.Character
	if char and char:FindFirstChild("HumanoidRootPart") then
		char.HumanoidRootPart.CFrame = summitCFrame
	end
end

-- üîÑ Reset ke basecamp
local function tpBasecamp()
	pcall(function() TeleportConfirm:FireServer() end)
end

-- üîÅ Loop Auto Summit
local function autoSummitLoop()
	task.spawn(function()
		while autoEnabled do
			tpSummit()
			task.wait(delaySpeed)
			tpBasecamp()
			task.wait(delaySpeed)
		end
	end)
end

-- üé® GUI Builder
local function createGUI()
	local gui = Instance.new("ScreenGui")
	gui.Name = "YARSAutoSummit"
	gui.ResetOnSpawn = false
	gui.Parent = player:WaitForChild("PlayerGui")

	local frame = Instance.new("Frame")
	frame.Size = UDim2.new(0, 260, 0, 280)
	frame.Position = UDim2.new(0, 20, 0.3, 0)
	frame.BackgroundColor3 = Color3.fromRGB(35, 40, 55)
	frame.Parent = gui
	Instance.new("UICorner", frame).CornerRadius = UDim.new(0, 10)

	-- Judul
	local title = Instance.new("TextLabel", frame)
	title.Size = UDim2.new(1, 0, 0, 30)
	title.BackgroundTransparency = 1
	title.TextColor3 = Color3.new(1, 1, 1)
	title.Text = "üèîÔ∏è YARS Auto Summit"
	title.Font = Enum.Font.SourceSansBold
	title.TextSize = 18

	-- GUI dragable
	local dragging, dragStart, startPos
	title.InputBegan:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1 then
			dragging = true
			dragStart = input.Position
			startPos = frame.Position
			input.Changed:Connect(function()
				if input.UserInputState == Enum.UserInputState.End then dragging = false end
			end)
		end
	end)
	UserInputService.InputChanged:Connect(function(input)
		if dragging and (input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch) then
			local delta = input.Position - dragStart
			frame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X,
				startPos.Y.Scale, startPos.Y.Offset + delta.Y)
		end
	end)

	-- Tombol Auto Summit
	local autoBtn = Instance.new("TextButton", frame)
	autoBtn.Size = UDim2.new(1, -20, 0, 30)
	autoBtn.Position = UDim2.new(0, 10, 0, 40)
	autoBtn.BackgroundColor3 = Color3.fromRGB(120, 255, 120)
	autoBtn.Text = "‚ö° AUTO SUMMIT: OFF"
	autoBtn.TextSize = 16
	autoBtn.MouseButton1Click:Connect(function()
		autoEnabled = not autoEnabled
		if autoEnabled then
			autoBtn.Text = "‚ö° AUTO SUMMIT: ON"
			autoBtn.BackgroundColor3 = Color3.fromRGB(255, 120, 120)
			autoSummitLoop()
		else
			autoBtn.Text = "‚ö° AUTO SUMMIT: OFF"
			autoBtn.BackgroundColor3 = Color3.fromRGB(120, 255, 120)
		end
	end)

	-- Tombol Teleport ke Puncak
	local tpSummitBtn = Instance.new("TextButton", frame)
	tpSummitBtn.Size = UDim2.new(1, -20, 0, 30)
	tpSummitBtn.Position = UDim2.new(0, 10, 0, 80)
	tpSummitBtn.BackgroundColor3 = Color3.fromRGB(200, 120, 120)
	tpSummitBtn.Text = "üìç Teleport ke Puncak"
	tpSummitBtn.MouseButton1Click:Connect(tpSummit)

	-- Tombol Reset ke Basecamp
	local tpBaseBtn = Instance.new("TextButton", frame)
	tpBaseBtn.Size = UDim2.new(1, -20, 0, 30)
	tpBaseBtn.Position = UDim2.new(0, 10, 0, 120)
	tpBaseBtn.BackgroundColor3 = Color3.fromRGB(255, 200, 120)
	tpBaseBtn.Text = "üîÑ Kembali ke Basecamp"
	tpBaseBtn.MouseButton1Click:Connect(tpBasecamp)

	-- Delay speed slider
	local delayLabel = Instance.new("TextLabel", frame)
	delayLabel.Size = UDim2.new(0.6, -20, 0, 30)
	delayLabel.Position = UDim2.new(0, 10, 0, 160)
	delayLabel.BackgroundTransparency = 1
	delayLabel.TextColor3 = Color3.new(1, 1, 1)
	delayLabel.Text = string.format("Delay: %.1fs", delaySpeed)

	local plusBtn = Instance.new("TextButton", frame)
	plusBtn.Size = UDim2.new(0.2, -5, 0, 30)
	plusBtn.Position = UDim2.new(0.6, 0, 0, 160)
	plusBtn.BackgroundColor3 = Color3.fromRGB(100, 180, 100)
	plusBtn.Text = "+"

	local minusBtn = Instance.new("TextButton", frame)
	minusBtn.Size = UDim2.new(0.2, -5, 0, 30)
	minusBtn.Position = UDim2.new(0.8, 0, 0, 160)
	minusBtn.BackgroundColor3 = Color3.fromRGB(180, 100, 100)
	minusBtn.Text = "-"

	plusBtn.MouseButton1Click:Connect(function()
		delaySpeed = math.clamp(delaySpeed + 0.1, 0.1, 5)
		delayLabel.Text = string.format("Delay: %.1fs", delaySpeed)
	end)
	minusBtn.MouseButton1Click:Connect(function()
		delaySpeed = math.clamp(delaySpeed - 0.1, 0.1, 5)
		delayLabel.Text = string.format("Delay: %.1fs", delaySpeed)
	end)

	-- TextBox ubah CFrame
	local cfLabel = Instance.new("TextLabel", frame)
	cfLabel.Size = UDim2.new(1, -20, 0, 30)
	cfLabel.Position = UDim2.new(0, 10, 0, 200)
	cfLabel.BackgroundTransparency = 1
	cfLabel.TextColor3 = Color3.new(1, 1, 1)
	cfLabel.Text = "Atur CFrame Puncak (x,y,z):"

	local cfBox = Instance.new("TextBox", frame)
	cfBox.Size = UDim2.new(1, -20, 0, 30)
	cfBox.Position = UDim2.new(0, 10, 0, 230)
	cfBox.BackgroundColor3 = Color3.fromRGB(70, 80, 120)
	cfBox.TextColor3 = Color3.new(1, 1, 1)
	cfBox.PlaceholderText = "Contoh: 310,1233,88"
	cfBox.ClearTextOnFocus = false

	cfBox.FocusLost:Connect(function(enter)
		if enter then
			local nums = {}
			for num in string.gmatch(cfBox.Text, "[-]?%d+%.?%d*") do
				table.insert(nums, tonumber(num))
			end
			if #nums == 3 then
				summitCFrame = CFrame.new(nums[1], nums[2], nums[3])
				notify("CFrame Updated", table.concat(nums, ", "))
			else
				notify("Format salah", "Gunakan format: x,y,z")
			end
		end
	end)

	return gui
end

-- Buat GUI pertama kali
local gui = createGUI()

-- Pastikan GUI tetap saat respawn
player.CharacterAdded:Connect(function()
	task.wait(1)
	if not player.PlayerGui:FindFirstChild("YARSAutoSummit") then
		createGUI()
	end
end)
